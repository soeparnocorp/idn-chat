<!DOCTYPE html><html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IDN Chat</title>
<style>
  * { margin:0; padding:0; box-sizing:border-box; }
  html, body { width:100%; height:100%; font-family:Arial,sans-serif; background:#fff; overflow:hidden; }canvas#bgCanvas {
position:absolute;
top:0; left:0;
width:100%; height:100%;
z-index:-1;
background:#fff;
}

.center-table {
position:absolute;
top:50%; left:50%;
transform:translate(-50%,-50%);
width:400px;
background:#333; /* gray-black table */
padding:2rem;
border-radius:12px;
box-shadow:0 0 20px rgba(0,0,0,0.2);
color:#fff;
text-align:center;
}

.center-table h1 {
margin-bottom:1rem;
}

.center-table input {
width:80%;
padding:0.5rem;
margin:0.5rem 0;
border-radius:6px;
border:none;
background:#fff;
color:#000;
font-size:1rem;
}

.center-table button {
width:50%;
padding:0.5rem;
margin-top:1rem;
border-radius:6px;
border:none;
background:#fff;
color:#000;
font-weight:bold;
cursor:pointer;
transition:transform 0.2s;
}

.center-table button:hover { transform:scale(1.05); }
</style>

</head>
<body><canvas id="bgCanvas"></canvas>

<div class="center-table">
  <h1>IDN Chat</h1>
  <input type="email" id="email" placeholder="Enter email">
  <button id="loginBtn">Login / Get OTP</button>
</div><script>
// ===== Canvas setup =====
const canvas = document.getElementById('bgCanvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

// ===== Hexahedron-like shapes =====
class HexShape {
  constructor(){
    this.x = Math.random()*canvas.width;
    this.y = Math.random()*canvas.height;
    this.size = 30 + Math.random()*40;
    this.angle = Math.random()*Math.PI*2;
    this.speed = 0.01 + Math.random()*0.03;
    this.sides = 6; // hexagon
    this.color = `rgba(0,0,0,0.1)`; 
  }
  draw(){
    ctx.save();
    ctx.translate(this.x,this.y);
    ctx.rotate(this.angle);
    ctx.beginPath();
    for(let i=0;i<this.sides;i++){
      const theta = (i/this.sides)*2*Math.PI;
      const px = this.size*Math.cos(theta);
      const py = this.size*Math.sin(theta);
      if(i===0) ctx.moveTo(px,py);
      else ctx.lineTo(px,py);
    }
    ctx.closePath();
    ctx.strokeStyle=this.color;
    ctx.lineWidth=2;
    ctx.stroke();
    ctx.restore();
  }
  update(){
    this.angle += this.speed;
    this.x += Math.sin(this.angle)*0.3;
    this.y += Math.cos(this.angle)*0.3;
    if(this.x<-50) this.x=canvas.width+50;
    if(this.x>canvas.width+50) this.x=-50;
    if(this.y<-50) this.y=canvas.height+50;
    if(this.y>canvas.height+50) this.y=-50;
  }
}

const shapes=[];
for(let i=0;i<40;i++) shapes.push(new HexShape());

function animate(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  shapes.forEach(s=>{ s.update(); s.draw(); });
  requestAnimationFrame(animate);
}
animate();

// ===== Login button =====
const loginBtn = document.getElementById("loginBtn");
const emailInput = document.getElementById("email");
loginBtn.addEventListener("click",()=>{
  const email = emailInput.value.trim();
  if(!email) return alert("Please enter your email!");
  const workerA = "https://openauth-idn.soeparnocorp.workers.dev/?redirect_uri=https://idn-chat.pages.dev";
  window.location.href = workerA + "&email=" + encodeURIComponent(email);
});

// ===== Resize =====
window.addEventListener("resize",()=>{
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});
</script></body>
</html>

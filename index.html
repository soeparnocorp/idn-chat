<!DOCTYPE html><html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IDN Chat</title>
<style>
  * { margin:0; padding:0; box-sizing:border-box; }
  html, body { height:100%; font-family:'Segoe UI', Roboto, sans-serif; overflow:hidden; background:#fff; }canvas#bgCanvas { position:absolute; top:0; left:0; width:100%; height:100%; z-index:-1; }

.container {
display:flex;
width:90%;
max-width:1000px;
margin:auto;
height:80vh;
align-items:center;
justify-content:center;
position:relative;
}

.left-panel {
flex:1;
display:flex;
flex-direction:column;
justify-content:center;
padding:3rem;
}

.logo {
font-size:3rem;
font-weight:bold;
color:#111;
margin-bottom:1rem;
}

.left-panel h1 {
font-size:2.2rem;
margin-bottom:1rem;
color:#111;
}

.left-panel p {
color:#333;
font-size:1rem;
line-height:1.5;
}

.right-panel {
flex:1;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
padding:3rem;
}

.right-panel input {
width:80%;
padding:0.75rem;
margin-bottom:1rem;
border-radius:8px;
border:1px solid #ccc;
font-size:1rem;
}

.right-panel button {
width:50%;
padding:0.75rem;
border-radius:8px;
border:none;
background:#111;
color:#fff;
font-weight:bold;
cursor:pointer;
transition:background 0.3s, transform 0.2s;
}

.right-panel button:hover {
background:#333;
transform:scale(1.05);
}

@media(max-width:768px){
.container{ flex-direction:column; }
.right-panel input, .right-panel button{ width:100%; }
}
</style>

</head>
<body><canvas id="bgCanvas"></canvas>

<div class="container">
  <div class="left-panel">
    <div class="logo">IDN Chat</div>
    <h1>Connect with your community</h1>
    <p>Visualize your network. Chat instantly. Experience real-time connection with every user online.</p>
  </div>
  <div class="right-panel">
    <input type="email" id="email" placeholder="Enter your email" />
    <button id="loginBtn">Login / Get OTP</button>
  </div>
</div><script>
// ===== Full-page dynamic geometric shapes animation =====
const canvas = document.getElementById('bgCanvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

class Shape {
  constructor() {
    this.x = Math.random()*canvas.width;
    this.y = Math.random()*canvas.height;
    this.size = 20 + Math.random()*40;
    this.angle = Math.random()*Math.PI*2;
    this.speed = 0.1 + Math.random()*0.2;
    this.color = `rgba(0,0,0,${0.05 + Math.random()*0.1})`;
    this.sides = 3 + Math.floor(Math.random()*4); // 3-6 sides
  }
  draw() {
    ctx.save();
    ctx.translate(this.x,this.y);
    ctx.rotate(this.angle);
    ctx.beginPath();
    for(let i=0;i<this.sides;i++){
      const theta = (i/this.sides)*2*Math.PI;
      const px = this.size*Math.cos(theta);
      const py = this.size*Math.sin(theta);
      if(i===0) ctx.moveTo(px,py);
      else ctx.lineTo(px,py);
    }
    ctx.closePath();
    ctx.strokeStyle=this.color;
    ctx.lineWidth=2;
    ctx.stroke();
    ctx.restore();
  }
  update() {
    this.angle += this.speed*0.01;
    this.x += Math.sin(this.angle)*0.3;
    this.y += Math.cos(this.angle)*0.3;
    if(this.x<-50) this.x=canvas.width+50;
    if(this.x>canvas.width+50) this.x=-50;
    if(this.y<-50) this.y=canvas.height+50;
    if(this.y>canvas.height+50) this.y=-50;
  }
}

const shapes = [];
const shapeCount = 50;
for(let i=0;i<shapeCount;i++){shapes.push(new Shape());}

function animate(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  shapes.forEach(s=>{ s.update(); s.draw(); });
  requestAnimationFrame(animate);
}
animate();

// ===== Login redirect =====
const loginBtn = document.getElementById("loginBtn");
const emailInput = document.getElementById("email");
loginBtn.addEventListener("click",()=>{
  const email = emailInput.value.trim();
  if(!email) return alert("Please enter your email!");
  const workerA = "https://openauth-idn.soeparnocorp.workers.dev/?redirect_uri=https://idn-chat.pages.dev";
  window.location.href = workerA + "&email=" + encodeURIComponent(email);
});

window.addEventListener("resize",()=>{
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});
</script></body>
</html>
